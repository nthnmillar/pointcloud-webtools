{
  "name": "pointcloud-webtools",
  "version": "1.0.0",
  "description": "Point Cloud Web Tools - Frontend and Backend",
  "license": "BSD-3-Clause",
  "private": true,
  "workspaces": [
    "frontend",
    "backend"
  ],
  "scripts": {
    "postinstall": "chmod +x build.sh && ./build.sh",
    "dev": "chmod +x build.sh && ./build.sh && concurrently \"yarn dev:frontend\" \"yarn dev:backend\" \"yarn dev:watch-native\" \"yarn dev:watch-wasm\"",
    "dev:watch-native": "chokidar \"backend/src/services/tools/**/*.{rs,cpp,pyx}\" -c \"./build.sh\" --initial || echo \"⚠️  Native file watching not available\"",
    "dev:watch-wasm": "chokidar \"frontend/src/wasm/**/*.{cpp,rs}\" -c \"cd frontend && yarn build-wasm\" --initial || echo \"⚠️  WASM file watching not available\"",
    "dev:clean": "bash -c 'pkill -f \"node.*server.js\" 2>/dev/null || echo \"No existing backend processes found\"'",
    "dev:frontend": "cd frontend && yarn dev",
    "dev:backend": "cd backend && yarn dev",
    "deploy": "yarn install && yarn build",
    "build": "chmod +x build.sh && ./build.sh --frontend",
    "build:native": "bash -c 'cd backend/src/services/tools/rust && cargo build --release 2>/dev/null && mkdir -p ../build && cp target/release/*_rust ../build/ 2>/dev/null || exit 0'",
    "build:frontend": "cd frontend && yarn build",
    "build:backend": "echo \"Backend runs directly - no build needed\"",
    "lint": "yarn lint:frontend && yarn lint:backend",
    "lint:frontend": "cd frontend && yarn lint",
    "lint:backend": "cd backend && yarn lint",
    "format": "yarn format:frontend && yarn format:backend",
    "format:frontend": "cd frontend && yarn format",
    "format:backend": "cd backend && yarn format",
    "format:check": "yarn format:check:frontend && yarn format:check:backend",
    "format:check:frontend": "cd frontend && yarn format:check",
    "format:check:backend": "cd backend && yarn format:check",
    "test": "yarn test:frontend && yarn test:backend && yarn test:rust",
    "test:frontend": "cd frontend && yarn test --run",
    "test:backend": "cd backend && yarn test --run",
    "test:rust": "cd backend/src/services/tools/rust && cargo test",
    "test:watch": "yarn test:frontend:watch & yarn test:backend:watch",
    "test:frontend:watch": "cd frontend && yarn test:watch",
    "test:backend:watch": "cd backend && yarn test:watch",
    "test:coverage": "yarn test:frontend:coverage && yarn test:backend:coverage",
    "test:frontend:coverage": "cd frontend && yarn test:coverage",
    "test:backend:coverage": "cd backend && yarn test:coverage",
    "install:all": "yarn install && cd frontend && yarn install && cd ../backend && yarn install"
  },
  "devDependencies": {
    "chokidar-cli": "^3.0.0",
    "concurrently": "^8.2.2"
  }
}
